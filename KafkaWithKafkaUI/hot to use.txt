Uruchomienie usug Otw贸rz terminal, przejd藕 do katalogu, w kt贸rym znajduje si plik docker-compose.yml i uruchom poni偶sze polecenie, aby uruchomi wszystkie usugi:

docker-compose up -d

Weryfikacja konfiguracji Aby upewni si, 偶e wszystko dziaa zgodnie z oczekiwaniami, mo偶na sprawdzi stan kontener贸w za pomoc:

docker-compose ps


==========================================================

Ten plik `docker-compose.yml` definiuje konfiguracj klastru Apache Kafka z trzema brokerami (`kafka1`, `kafka2`, `kafka3`), Zookeeperem i narzdziem Kafka UI do wizualizacji klastru. Oto szczeg贸owy opis:

---

### **Usugi (`services`)**

#### **1. `zookeeper`**
- **Funkcja**: Zookeeper zarzdza metadanymi klastru Kafka i koordynuje prac broker贸w.
- **Obraz**: `bitnami/zookeeper:3.9.1`
- **Tymczasowy system plik贸w**: Montowany na `/zktmp`, aby dane tymczasowe przetrway restart kontenera.
- **Porty**:
  - `2181:2181` - Port 2181 na hocie mapowany na port 2181 w kontenerze, u偶ywany do komunikacji z Kafka.
- **Zmienne rodowiskowe**:
  - `ALLOW_ANONYMOUS_LOGIN: 'yes'` - Zezwala na logowanie bez uwierzytelnienia.

---

#### **2. `kafka1`**
- **Funkcja**: Pierwszy broker w klastrze Kafka.
- **Obraz**: `bitnami/kafka:3.7.0`
- **Zale偶noci**: Czeka na uruchomienie Zookeepera (`depends_on`).
- **Zmienne rodowiskowe**:
  - `KAFKA_BROKER_ID: 1` - Identyfikator brokera w klastrze.
  - `KAFKA_CFG_ZOOKEEPER_CONNECT: zookeeper:2181` - Adres Zookeepera.
  - `KAFKA_CFG_LISTENERS` i `KAFKA_CFG_ADVERTISED_LISTENERS` - Definiuj, jak broker komunikuje si wewntrznie (`INTERNAL`) i zewntrznie (`EXTERNAL`).
  - `KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP` - Mapowanie protoko贸w komunikacji (tu: `PLAINTEXT`).
  - `KAFKA_CFG_AUTO_CREATE_TOPICS_ENABLE: 'true'` - Automatyczne tworzenie temat贸w, jeli s potrzebne.
  - `ALLOW_PLAINTEXT_LISTENER: 'yes'` - Zezwala na komunikacj bez szyfrowania.
- **Porty**:
  - `9092:9092` - Port wewntrzny brokera.
  - `29092:29092` - Port zewntrzny dla lokalnego dostpu.
- **Wolumeny**:
  - `kafka_data1` - Przechowuje dane brokera.

Podobna konfiguracja dotyczy broker贸w `kafka2` i `kafka3`, r贸偶ni si jedynie identyfikatorem brokera (`KAFKA_BROKER_ID`) oraz portami.

---

#### **3. `kafka-ui`**
- **Funkcja**: Interfejs webowy do monitorowania i zarzdzania klastrem Kafka.
- **Obraz**: `provectuslabs/kafka-ui:latest`
- **Zale偶noci**: Czeka na uruchomienie wszystkich broker贸w (`depends_on`).
- **Porty**:
  - `1111:8080` - Port 8080 w kontenerze mapowany na port 1111 na hocie (dostp do UI).
- **Zmienne rodowiskowe**:
  - `KAFKA_CLUSTERS_0_NAME: local` - Nazwa klastra.
  - `KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS: kafka1:9092,kafka2:9093,kafka3:9094` - Adresy broker贸w.
  - `KAFKA_CLUSTERS_0_ZOOKEEPER: zookeeper:2181` - Adres Zookeepera.

---

### **Wolumeny (`volumes`)**
- **`kafka_data1`, `kafka_data2`, `kafka_data3`**:
  - Ka偶dy broker ma osobny wolumen do przechowywania danych. Dziki temu dane s trwae, nawet jeli kontener zostanie zrestartowany.

---

### **Podsumowanie dziaania**
1. **Zookeeper** uruchamia si jako pierwszy i koordynuje prac broker贸w.
2. Trzy brokery Kafka komunikuj si z Zookeeperem i midzy sob.
3. **Kafka UI** umo偶liwia atwe monitorowanie klastru za pomoc przegldarki, dostpne na porcie `1111`.

Jeli potrzebujesz wicej szczeg贸贸w na temat konkretnej sekcji, daj zna! 